<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Chess Game</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0; 
            padding: 20px; 
            background-color: #f0f0f0; 
        }

        h1 {
            font-family: Arial, sans-serif; 
        }

        #chessboard {
            display: grid; 
            grid-template-columns: repeat(8, 60px); 
            grid-template-rows: repeat(8, 60px); 
        }

        .square {
            width: 60px; 
            height: 60px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            cursor: pointer; 
        }

        .white {
            background-color: #ffffff; 
        }

        .black {
            background-color: #000000; 
        }

        .piece {
            width: 100%; 
            height: 100%; 
            background-size: contain; 
            background-repeat: no-repeat; 
            background-position: center; 
        }
    </style>
</head>
<body>
    <h1>Simple Chess Game</h1>
    <div id="chessboard"></div>
    <script>
        const chessboard = document.getElementById('chessboard');

        const pieces = {
            // Black pieces
            'r': 'https://upload.wikimedia.org/wikipedia/commons/c/c8/Chess_rlt48.svg', // Rook
            'n': 'https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_nlt48.svg', // Knight
            'b': 'https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_blt48.svg', // Bishop
            'q': 'https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_qlt48.svg', // Queen
            'k': 'https://upload.wikimedia.org/wikipedia/commons/0/04/Chess_klt48.svg', // King
            'p': 'https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt48.svg', // Pawn
            // White pieces
            'R': 'https://upload.wikimedia.org/wikipedia/commons/3/3b/Chess_rdt48.svg', // Rook
            'N': 'https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_ndt48.svg', // Knight
            'B': 'https://upload.wikimedia.org/wikipedia/commons/3/3b/Chess_bdt48.svg', // Bishop
            'Q': 'https://upload.wikimedia.org/wikipedia/commons/1/1b/Chess_qdt48.svg', // Queen
            'K': 'https://upload.wikimedia.org/wikipedia/commons/a/a0/Chess_kdt48.svg', // King
            'P': 'https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_pdt48.svg'  // Pawn
        };

        const initialBoard = [
            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
            ['.', '.', '.', '.', '.', '.', '.', '.'],
            ['.', '.', '.', '.', '.', '.', '.', '.'],
            ['.', '.', '.', '.', '.', '.', '.', '.'],
            ['.', '.', '.', '.', '.', '.', '.', '.'],
            ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],
            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
        ];

        let selectedPiece = null; // To store the selected piece
        let selectedSquare = null; // To store the square of the selected piece

        function createChessBoard() {
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const square = document.createElement('div');
                    square.classList.add('square');
                    square.classList.add((row + col) % 2 === 0 ? 'white' : 'black');
                    square.setAttribute('data-row', row);
                    square.setAttribute('data-col', col);
                    
                    const piece = initialBoard[row][col];
                    if (piece !== '.') {
                        square.classList.add('piece');
                        square.style.backgroundImage = `url(${pieces[piece]})`;
                        square.style.backgroundSize = 'contain';
                        square.style.backgroundRepeat = 'no-repeat';

                        // Add click event to square with piece
                        square.addEventListener('click', handlePieceClick);
                    } else {
                        // Add click event to empty square
                        square.addEventListener('click', handleSquareClick);
                    }

                    chessboard.appendChild(square);
                }
            }
        }

        function highlightValidMoves(row, col) {
            // This is a placeholder for move logic. Just for example, allowing a piece to move to adjacent squares.
            const validMoves = [
                { row: row + 1, col: col }, // Down
                { row: row - 1, col: col }, // Up
                { row: row, col: col + 1 }, // Right
                { row: row, col: col - 1 }  // Left
            ];
            
            validMoves.forEach(move => {
                const targetSquare = document.querySelector(`[data-row="${move.row}"][data-col="${move.col}"]`);
                if (targetSquare && (move.row >= 0 && move.row < 8 && move.col >= 0 && move.col < 8)) {
                    targetSquare.style.border = '2px dashed green'; // Example visual feedback for valid moves
                }
            });
        }

        function handlePieceClick(event) {
            if (selectedSquare) { // If we have already selected a piece
                selectedSquare.style.border = ''; // Clear border from the previously selected square
            }
            const square = event.currentTarget;
            selectedSquare = square; 
            selectedPiece = square.style.backgroundImage; 
            square.style.border = '2px solid red';

            // Get selected piece's position
            const row = parseInt(square.getAttribute('data-row'));
            const col = parseInt(square.getAttribute('data-col'));

            // Highlight valid moves (you'll need to refine this based on the actual piece type)
            highlightValidMoves(row, col);
        }

        function handleSquareClick(event) {
            const square = event.currentTarget;

            if (selectedPiece) {
                // Move the piece
                square.style.backgroundImage = selectedPiece;
                square.classList.add('piece');

                // Clear the old square
                selectedSquare.style.backgroundImage = '';
                selectedSquare.classList.remove('piece');
                selectedSquare.style.border = '';
                
                // Reset selection
                selectedPiece = null; 
                selectedSquare = null;

                // Clear any highlighted valid moves
                const allSquares = document.querySelectorAll('.square');
                allSquares.forEach(sq => sq.style.border = '');
            }
        }

        createChessBoard();
    </script>
</body>
</html>
