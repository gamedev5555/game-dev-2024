<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>x11-Random-Move Game</title>
    <style>
        body {
            background-image: url('myBackground01.jpg');
            background-repeat: repeat;
            background-size: 80%;
            position: relative;
            overflow: hidden; /* Prevents images from going off-screen */
        }
        h1 {
            color: red;
            text-align: center;
        }
        img {
            position: absolute;
            width: 100px;
            height: 80px;
        }
    </style>
</head>
<body id="myBody">

<h1>x11-Random-Move-by-ayan.html</h1>

<img id="myImg01" src="https://imgv3.fotor.com/images/gallery/cartoon-character-generated-by-Fotor-ai-art-creator.jpg" title="myImg01" style="left: 500px; top: 400px;">

<input type="button" id="autoBgLeftBtn" value="Auto Background Left">
<input type="button" id="rightBtn" value="Right">
<input type="button" id="downBtn" value="Down">
<input type="button" id="autoRightBtn" value="Auto Right">

<script>
    let myGlobalX = 0;
    let myClock, myTimer01, myTimer02;

    window.onload = function() {
        // Start moving myImg02 randomly upon loading
        clearInterval(myTimer02);
        myTimer02 = setInterval(randomMoveImg02, 50);
    }

    function randomMoveImg02() {
        let my02x = Math.floor((Math.random() * 20) - 9);
        let my02y = Math.floor((Math.random() * 20) - 9);
        let img02 = document.getElementById('myImg02');
        img02.style.left = parseInt(img02.style.left) + my02x + 'px';
        img02.style.top = parseInt(img02.style.top) + my02y + 'px';
        myCheckHit();
    }

    function myCheckHit() {
        if (myHitOther('myImg01', 'myImg02') || myHitOther('myImg01', 'myImg03')) {
            document.getElementById('myImg01').style.left = '20px';
        }

        if (myHitOther('myImg01', 'myImg04')) {
            alert('You Win, now go to the next level');
            document.getElementById('myImg01').style.left = '20px';
            location = 'https://www.google.ca';
        }

        // Check boundaries
        checkBoundaries('myImg01');
        checkBoundaries('myImg02');
    }

    function myHitOther(my1, my2) {
        const rect1 = document.getElementById(my1).getBoundingClientRect();
        const rect2 = document.getElementById(my2).getBoundingClientRect();
        return !(rect1.right < rect2.left || 
                 rect1.left > rect2.right || 
                 rect1.bottom < rect2.top || 
                 rect1.top > rect2.bottom);
    }

    function checkBoundaries(imageId) {
        const img = document.getElementById(imageId);
        const imgRect = img.getBoundingClientRect();

        if (imgRect.left < 0) img.style.left = '0px';
        if (imgRect.right > window.innerWidth) img.style.left = (window.innerWidth - imgRect.width) + 'px';
        if (imgRect.top < 0) img.style.top = '0px';
        if (imgRect.bottom > window.innerHeight) img.style.top = (window.innerHeight - imgRect.height) + 'px';
    }

    document.getElementById('autoBgLeftBtn').addEventListener('click', function() {
        clearInterval(myClock);
        myClock = setInterval(function() {
            myGlobalX -= 5;
            document.body.style.backgroundPosition = myGlobalX + 'px 0px';
        }, 100);
    });

    document.getElementById('rightBtn').addEventListener('click', function() {
        moveImg('myImg01', 10, 0);
    });

    document.getElementById('downBtn').addEventListener('click', function() {
        moveImg('myImg01', 0, 10);
    });

    document.getElementById('autoRightBtn').addEventListener('click', function() {
        clearInterval(myTimer01);
        myTimer01 = setInterval(function() {
            moveImg('myImg01', 10, 0);
        }, 50);
    });

    function moveImg(imageId, deltaX, deltaY) {
        const img = document.getElementById(imageId);
        img.style.left = parseInt(img.style.left) + deltaX + 'px';
        img.style.top = parseInt(img.style.top) + deltaY + 'px';
        myCheckHit();
    }
</script>

</body>
</html>
