<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaflet Location Search</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        h1 {
            text-align: center;
        }
        #map {
            height: 500px;
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
            border: 2px solid #ddd;
            border-radius: 8px;
        }
        #input {
            width: 100%; 
            max-width: 400px; 
            margin: 0 auto 20px auto; 
            display: block; 
            padding: 10px; 
            border: 1px solid #ccc; 
            border-radius: 5px; 
            outline: none;
        }
    </style>
</head>
<body>

<h1>Search for Locations</h1>
<input id="input" type="text" placeholder="Enter a location" />
<div id="map"></div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
    // Initialize the map and set default view
    const map = L.map('map').setView([20, 0], 2); // Centered at latitude 20, longitude 0

    // Add OpenStreetMap tile layer
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
    }).addTo(map);

    // Predefined list of locations (name and coordinates)
    const locations = [
        { name: 'New York, USA', lat: 40.712776, lng: -74.005974 },
        { name: 'Los Angeles, USA', lat: 34.052235, lng: -118.243683 },
        { name: 'Chicago, USA', lat: 41.878113, lng: -87.629799 },
        { name: 'Tokyo, Japan', lat: 35.652832, lng: 139.839478 },
        { name: 'London, UK', lat: 51.507351, lng: -0.127758 },
        { name: 'Paris, France', lat: 48.856613, lng: 2.352222 },
        { name: 'Berlin, Germany', lat: 52.520008, lng: 13.404954 },
        { name: 'Sydney, Australia', lat: -33.868820, lng: 151.209290 }
    ];

    // Clear previous markers
    let marker;

    // Function to search locations
    function searchLocation(query) {
        // Clear the existing marker if any
        if (marker) {
            map.removeLayer(marker);
        }
        // Filter locations based on search input
        const filteredLocation = locations.find(location => 
            location.name.toLowerCase().includes(query.toLowerCase())
        );

        if (filteredLocation) {
            // Center the map on the found location and add a marker
            map.setView([filteredLocation.lat, filteredLocation.lng], 10);
            marker = L.marker([filteredLocation.lat, filteredLocation.lng]).addTo(map)
                .bindPopup(filteredLocation.name)
                .openPopup();
        }
    }

    // Event listener for search input
    document.getElementById("input").addEventListener("input", function() {
        searchLocation(this.value);
    });
</script>

</body>
</html>
